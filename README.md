# ‡∏™‡∏°‡∏≤‡∏£‡πå‡∏ï ‡πÄ‡∏î‡∏™‡∏Å‡πå‡∏ó‡πá‡∏≠‡∏õ ‡πÅ‡∏≠‡∏ï‡πÇ‡∏°‡∏™‡πÄ‡∏ü‡∏µ‡∏¢‡∏£‡πå

## ‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°
‡∏™‡∏°‡∏≤‡∏£‡πå‡∏ï ‡πÄ‡∏î‡∏™‡∏Å‡πå‡∏ó‡πá‡∏≠‡∏õ ‡πÅ‡∏≠‡∏ï‡πÇ‡∏°‡∏™‡πÄ‡∏ü‡∏µ‡∏¢‡∏£‡πå ‡πÄ‡∏õ‡πá‡∏ô‡∏£‡∏∞‡∏ö‡∏ö IoT ‡∏ó‡∏µ‡πà‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡∏°‡∏≤‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏ó‡∏µ‡πà‡πÇ‡∏ï‡πä‡∏∞ 
‡πÇ‡∏î‡∏¢‡πÉ‡∏ä‡πâ‡πÄ‡∏ã‡∏ô‡πÄ‡∏ã‡∏≠‡∏£‡πå PIR (‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏´‡∏ß) ‡πÅ‡∏•‡∏∞ LDR (‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏ß‡πà‡∏≤‡∏á) ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡πÅ‡∏™‡∏á‡∏™‡∏ß‡πà‡∏≤‡∏á‡∏ú‡πà‡∏≤‡∏ô‡∏£‡∏µ‡πÄ‡∏•‡∏¢‡πå 
‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏•‡∏á‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• ‡πÅ‡∏•‡∏∞‡πÅ‡∏™‡∏î‡∏á‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÅ‡∏ö‡∏ö‡πÄ‡∏£‡∏µ‡∏¢‡∏•‡πÑ‡∏ó‡∏°‡πå‡∏ö‡∏ô‡πÅ‡∏î‡∏ä‡∏ö‡∏≠‡∏£‡πå‡∏î‡πÄ‡∏ß‡πá‡∏ö ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏ï‡∏±‡∏ß‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡πÄ‡∏ß‡∏•‡∏≤‡∏ô‡∏±‡πà‡∏á‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô

---

## ‡∏™‡∏ñ‡∏≤‡∏õ‡∏±‡∏ï‡∏¢‡∏Å‡∏£‡∏£‡∏°‡∏£‡∏∞‡∏ö‡∏ö
```
ESP32 (Hardware) ‚Üí MQTT Broker (HiveMQ) ‚Üí Node.js Server (SQLite) ‚Üí Web Dashboard
```

---

## ‡∏Æ‡∏≤‡∏£‡πå‡∏î‡πÅ‡∏ß‡∏£‡πå‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ
| ‡∏™‡πà‡∏ß‡∏ô‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö | GPIO/‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà | ‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢ |
|-----------|-----------|---------|
| **PIR Motion Sensor** | GPIO 13 | ‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏´‡∏ß |
| **LDR Light Sensor** | GPIO 34 (ADC) | ‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏ß‡πà‡∏≤‡∏á |
| **Relay Module** | GPIO 26 | ‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡πÄ‡∏õ‡∏¥‡∏î/‡∏õ‡∏¥‡∏î‡πÅ‡∏™‡∏á‡∏™‡∏ß‡πà‡∏≤‡∏á |
| **WiFi Reset Button** | GPIO 16 | ‡∏•‡πâ‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ WiFi (‡∏Å‡∏î‡∏Ñ‡πâ‡∏≤‡∏á 5 ‡∏ß‡∏¥) |
| **WiFi LED** | GPIO 2 | ‡∏ï‡∏¥‡∏î‡∏Ñ‡πâ‡∏≤‡∏á=‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏° / ‡∏Å‡∏£‡∏∞‡∏û‡∏£‡∏¥‡∏ö=‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏° |
| **MQTT LED** | GPIO 4 | ‡∏ï‡∏¥‡∏î‡∏Ñ‡πâ‡∏≤‡∏á=MQTT ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏° / ‡∏î‡∏±‡∏ö=‡πÑ‡∏°‡πà‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏° |
| **LCD Display** | I2C (0x27) | ‡πÅ‡∏™‡∏î‡∏á‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ 20x4 ‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£ |

---

## ‡∏Ñ‡∏∏‡∏ì‡∏™‡∏°‡∏ö‡∏±‡∏ï‡∏¥‡∏´‡∏•‡∏±‡∏Å

### 1. **‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡πÅ‡∏™‡∏á‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥ (AUTO Mode)**
- **‡∏ï‡∏±‡∏ß‡∏Å‡∏£‡∏∞‡∏ï‡∏∏‡πâ‡∏ô**: PIR ‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏´‡∏ß
- **‡∏õ‡∏£‡∏±‡∏ö‡πÅ‡∏ï‡πà‡∏á**: LDR ‡∏ß‡∏±‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏ß‡πà‡∏≤‡∏á
  - ‡∏ñ‡πâ‡∏≤‡πÄ‡∏´‡πá‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏´‡∏ß **‡πÅ‡∏•‡∏∞** ‡∏°‡∏∑‡∏î (LDR < 1500) ‚Üí ‡πÄ‡∏õ‡∏¥‡∏î‡πÅ‡∏™‡∏á
  - ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ motion **‡πÅ‡∏•‡∏∞** ‡∏™‡∏ß‡πà‡∏≤‡∏á‡∏°‡∏≤‡∏Å‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏û‡∏≠ (LDR > 1800) ‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏ß‡∏•‡∏≤ 5 ‡∏ß‡∏¥ ‚Üí ‡∏õ‡∏¥‡∏î‡πÅ‡∏™‡∏á
  - ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ motion ‡πÄ‡∏Å‡∏¥‡∏ô 30 ‡∏ß‡∏¥ ‚Üí ‡∏õ‡∏¥‡∏î‡πÅ‡∏™‡∏á‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥

### 2. **‡∏ï‡∏±‡∏ß‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡πÄ‡∏ß‡∏•‡∏≤‡∏ô‡∏±‡πà‡∏á (Sitting Tracker)**
- ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å session ID ‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏´‡∏ß
- **EventLog ‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á**: 
  - `session_start` - ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ô‡∏±‡πà‡∏á
  - `session_end` - ‡∏•‡∏∏‡∏Å‡∏à‡∏£‡∏¥‡∏á (‡πÑ‡∏°‡πà‡∏°‡∏µ motion ‡πÄ‡∏Å‡∏¥‡∏ô 30 ‡∏ß‡∏¥)
  - `sit_alert` - ‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ô‡∏±‡πà‡∏á‡πÄ‡∏Å‡∏¥‡∏ô 60 ‡∏ß‡∏¥ (‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏ã‡πâ‡∏≥‡∏ó‡∏∏‡∏Å ‡πÜ 5 ‡∏ß‡∏¥)
- **‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô**:
  - ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÉ‡∏ô‡∏à‡∏≠ LCD ‡∏ó‡∏∏‡∏Å 10 ‡∏ß‡∏¥
  - ‡∏™‡πà‡∏á Telegram message ‡∏ö‡∏≠‡∏Å‡∏ß‡πà‡∏≤‡∏ô‡∏±‡πà‡∏á‡∏°‡∏≤‡∏Å‡∏µ‡πà‡∏ô‡∏≤‡∏ó‡∏µ

### 3. **‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏ú‡πà‡∏≤‡∏ô Telegram**
- ‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏ß‡∏•‡∏≤ cooldown: 1.2 ‡∏ß‡∏¥ (‡∏Å‡∏±‡∏ô‡∏™‡πÅ‡∏õ‡∏°)
- ‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡πÄ‡∏°‡∏∑‡πà‡∏≠:
  - ‡πÄ‡∏õ‡∏¥‡∏î/‡∏õ‡∏¥‡∏î‡πÅ‡∏™‡∏á üí°
  - WiFi ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°/‡∏´‡∏•‡∏∏‡∏î üì∂
  - MQTT ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°/‡∏´‡∏•‡∏∏‡∏î üü¢üî¥

### 4. **‡πÅ‡∏î‡∏ä‡∏ö‡∏≠‡∏£‡πå‡∏î‡πÄ‡∏ß‡πá‡∏ö‡πÅ‡∏ö‡∏ö‡πÄ‡∏£‡∏µ‡∏¢‡∏•‡πÑ‡∏ó‡∏°‡πå**
- ‡πÅ‡∏™‡∏î‡∏á‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ PIR, LDR, Relay, Auto Mode
- ‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ WiFi/MQTT
- ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á SQLite
- API ‡∏™‡πà‡∏á telemetry ‡∏ó‡∏∏‡∏Å 10 ‡∏ß‡∏¥

### 5. **‡πÇ‡∏´‡∏°‡∏î Offline (‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏≠‡∏¥‡∏ô‡πÄ‡∏ó‡∏≠‡∏£‡πå‡πÄ‡∏ô‡πá‡∏ï)**
- ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÑ‡∏°‡πà‡∏°‡∏µ WiFi ‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡πÉ‡∏´‡πâ‡πÄ‡∏õ‡πá‡∏ô AUTO mode
- ‡∏¢‡∏±‡∏á‡∏Ñ‡∏á‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡πÅ‡∏™‡∏á‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡πÑ‡∏î‡πâ‡∏õ‡∏Å‡∏ï‡∏¥
- ‡πÄ‡∏°‡∏∑‡πà‡∏≠ WiFi ‡∏ü‡∏∑‡πâ‡∏ô‡∏Ç‡∏∂‡πâ‡∏ô ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• + ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô session ‡∏ó‡∏µ‡πà‡∏Ñ‡πâ‡∏≤‡∏á
- ‡πÑ‡∏°‡πà restart ‡∏£‡∏∞‡∏ö‡∏ö ‡πÉ‡∏´‡πâ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ï‡πà‡∏≠‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏¢

---

## ‡∏à‡∏≠ LCD 20x4

### ‡πÇ‡∏´‡∏°‡∏î STANDBY (‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ä‡πà‡∏ß‡∏á‡∏û‡∏±‡∏Å)
```
== STANDBY MODE ==
My Smart Desktop
Waiting for change
LAMP:OFF AUTO:ON
```
- ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏≤‡∏Å‡πÄ‡∏ã‡∏¥‡∏£‡πå‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå
- ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á (PIR/LDR/Relay/Mode) ‚Üí ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡πÇ‡∏´‡∏°‡∏î LIVE

### ‡πÇ‡∏´‡∏°‡∏î LIVE (‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏ã‡∏ô‡πÄ‡∏ã‡∏≠‡∏£‡πå‡πÅ‡∏ö‡∏ö‡πÄ‡∏£‡∏µ‡∏¢‡∏•‡πÑ‡∏ó‡∏°‡πå)
```
PIR:1  LDR:1234
LAMP:ON AUTO:ON
WiFi:OK
MQTT:OK
```
- ‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡∏ó‡∏∏‡∏Å 250ms
- ‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å ~10 ‡∏ß‡∏¥ ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô ‚Üí ‡∏Å‡∏•‡∏±‡∏ö STANDBY

### ‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏ô‡∏±‡πà‡∏á‡∏ô‡∏≤‡∏ô
```
!! SIT TOO LONG !!
TAKE A SHORT BREAK
Time: 2 min
Stand up 2-3 min
```
- ‡πÅ‡∏™‡∏î‡∏á 3 ‡∏ß‡∏¥ ‡∏ó‡∏∏‡∏Å ‡πÜ 10 ‡∏ß‡∏¥ (‡∏ñ‡πâ‡∏≤‡∏ô‡∏±‡πà‡∏á > 60 ‡∏ß‡∏¥)

---

## ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ WiFi

### ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å
1. ‡∏ö‡∏π‡∏ó‡∏£‡∏∞‡∏ö‡∏ö ESP32 ‡∏Ç‡∏∂‡πâ‡∏ô‡∏°‡∏≤
2. LCD ‡πÅ‡∏™‡∏î‡∏á: `AP: SmartDesk-Setup`
3. ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤ WiFi ‡πÅ‡∏ö‡∏ö‡∏ä‡∏∑‡πà‡∏≠ `SmartDesk-Setup` ‡πÅ‡∏•‡∏∞‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°
4. ‡πÄ‡∏õ‡∏¥‡∏î browser: `192.168.4.1`
5. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å WiFi + ‡∏õ‡πâ‡∏≠‡∏ô password
6. ‡∏£‡∏∞‡∏ö‡∏ö‡∏ö‡∏π‡∏ó restart ‡πÅ‡∏•‡∏∞‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏° WiFi ‡∏õ‡∏Å‡∏ï‡∏¥

### ‡∏•‡πâ‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ WiFi
- ‡∏Å‡∏î‡∏Ñ‡πâ‡∏≤‡∏á **WiFi Reset Button** (GPIO 16) ‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏ß‡∏•‡∏≤ **5 ‡∏ß‡∏¥**
- LCD ‡πÅ‡∏™‡∏î‡∏á: `WiFi reset... Rebooting...`
- ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡πÄ‡∏Ç‡πâ‡∏≤‡πÇ‡∏´‡∏°‡∏î setup ‡πÉ‡∏´‡∏°‡πà

---

## MQTT Topics

### Publish (ESP32 ‚Üí Server)
**Topic**: `smartdesk/ESP32-SDA-REAL/telemetry`

**Payload ‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏ï‡πâ‡∏ô (‡∏ó‡∏∏‡∏Å 10 ‡∏ß‡∏¥)**:
```json
{
  "ldr": 1234,
  "relay": 1,
  "pir": 1,
  "auto": 1,
  "wifi": 1,
  "rssi": -45,
  "seat": {
    "seated": 1,
    "session_id": 1234567890,
    "sit_ms": 45000,
    "away_ms": 2000,
    "leave_confirm_ms": 30000
  }
}
```

**Payload Event (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö session tracking)**:
```json
{
  "type": "session_start",
  "session_id": 1234567890,
  "ts_ms": 45000,
  "pir": 1,
  "sit_minutes": 2,
  "no_motion_ms": 5000
}
```

### Subscribe (Server ‚Üí ESP32)
**Topic**: `smartdesk/ESP32-SDA-REAL/cmd`

**‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ó‡∏µ‡πà‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö**:
- `RELAY:ON` / `RELAY:OFF` - ‡πÄ‡∏õ‡∏¥‡∏î/‡∏õ‡∏¥‡∏î‡πÅ‡∏™‡∏á
- `AUTO:ON` / `AUTO:OFF` - ‡πÄ‡∏õ‡∏¥‡∏î/‡∏õ‡∏¥‡∏î auto mode
- `LCD:CLEAR` - ‡∏•‡πâ‡∏≤‡∏á‡∏à‡∏≠ LCD
- `LCD:STANDBY:ON` / `LCD:STANDBY:OFF` - ‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡πÇ‡∏´‡∏°‡∏î
- `LCD:STANDBY:line2|line3` - ‡∏ï‡∏±‡πâ‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° standby
- `LCD:STABLESEC:10` - ‡∏ï‡∏±‡πâ‡∏á‡πÄ‡∏ß‡∏•‡∏≤ stable (2-60 ‡∏ß‡∏¥)

**Topic LCD Standby**: `smartdesk/ESP32-SDA-REAL/lcd/standby`
```json
{
  "line2": "My Smart Desktop",
  "line3": "Waiting for change"
}
```

---

## ‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ‡πÄ‡∏ã‡∏¥‡∏£‡πå‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô
```bash
cd server
npm install
npm start
```

### ‡∏ö‡∏£‡∏≤‡∏ß‡πÄ‡∏ã‡∏≠‡∏£‡πå
```
http://localhost:3000
```

### ‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà MQTT
```
broker.hivemq.com:1883 (Public MQTT Broker)
```

---

## ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÄ‡∏ã‡∏ô‡πÄ‡∏ã‡∏≠‡∏£‡πå

| ‡∏ä‡∏∑‡πà‡∏≠ | ‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£ | ‡∏Ñ‡πà‡∏≤ | ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏ |
|------|--------|-----|---------|
| PIR | `pirDetected` | 0/1 | ‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏´‡∏ß |
| LDR | `ldrValue` | 0-4095 | 0=‡∏°‡∏∑‡∏î, 4095=‡∏™‡∏ß‡πà‡∏≤‡∏á |
| Relay | `relayOn` | 0/1 | ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÅ‡∏™‡∏á |
| Auto | `autoMode` | 0/1 | AUTO vs Manual |
| WiFi | `WiFi.status()` | WL_CONNECTED | Connection status |
| Offline | `offlineMode` | 0/1 | ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏°‡∏µ WiFi |

---

## Telegram Bot

**Token**: ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÉ‡∏ô‡πÇ‡∏Ñ‡πâ‡∏î `TG_BOT_TOKEN`  
**Chat ID**: ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÉ‡∏ô‡πÇ‡∏Ñ‡πâ‡∏î `TG_CHAT_ID`

‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô:
- üí° Lamp ON/OFF
- üì∂ WiFi Connected/Lost
- üü¢üî¥ MQTT Connected/Lost
- ‚è∞ ‡∏ô‡∏±‡πà‡∏á‡∏°‡∏≤ N ‡∏ô‡∏≤‡∏ó‡∏µ‡πÅ‡∏•‡πâ‡∏ß (‡∏´‡πà‡∏ß‡∏á‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û)

---

## ‡∏•‡∏±‡∏Å‡∏©‡∏ì‡∏∞‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏ó‡∏≤‡∏á‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ

- **‡πÑ‡∏°‡πÇ‡∏Ñ‡∏£‡∏Ñ‡∏≠‡∏ô‡πÇ‡∏ó‡∏£‡∏•‡πÄ‡∏•‡∏≠‡∏£‡πå**: ESP32
- **Broker MQTT**: HiveMQ (Public)
- **‡∏î‡∏¥‡∏™‡πÄ‡∏û‡∏•‡∏¢‡πå**: LCD I2C 20x4
- **Relay Logic**: Active-LOW (‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏õ‡∏£‡∏±‡∏ö‡πÉ‡∏´‡πâ‡πÑ‡∏î‡πâ)
- **Sleep/Reboot**: ‡πÑ‡∏°‡πà‡∏ô‡∏≠‡∏ô ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô 24/7
- **Rate Limiting**: 
  - Telemetry ‡∏ó‡∏∏‡∏Å 10 ‡∏ß‡∏¥
  - LCD ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï 250ms
  - Telegram cooldown 1.2 ‡∏ß‡∏¥
